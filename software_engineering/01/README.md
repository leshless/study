# –ö–ü–û –î–ó 1
–õ–µ—â—É–∫ –ì–ª–µ–±, 249

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –Ω–∞ —è–∑—ã–∫–µ Python. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è stateful –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π runtime-–∫—ç—à –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ CLI-–º–µ–Ω—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É [uv](https://docs.astral.sh/uv/).

```
CLI service started

? Select option (Use arrow keys)
 ¬ª üêçCreate Animal
   üìãList Animals
   ü•©Get Food Consumption
   üì¶Create Item
   üìãList Items
   ‚ùåExit
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ: –ù–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Docker](http://docs.docker.com/engine/install/)

–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ):
```bash
make
```
–∏–ª–∏
```bash
docker build -t swe_hw_1 . && docker run -it swe_hw_1:latest
```

–í—ã –¥–æ–ª–∂–Ω—ã –±—É–¥–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:
```
#1 [internal] load build definition from Dockerfile
...
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.11-slim
#2 DONE 0.2s

#3 [internal] load .dockerignore
...
#3 DONE 0.0s

#4 [1/8] FROM docker.io/library/python:3.11-slim@sha256:5e9093a415c674b51e705d42dde4dd6aad8c132dab6ca3e81ecd5cbbe3689bd2
#4 DONE 0.0s

#5 [2/8] WORKDIR /swe_hw_1
#5 CACHED

#6 [internal] load build context
...
#6 DONE 0.1s

#7 [3/8] RUN pip install uv
...
#7 DONE 129.1s

#8 [4/8] COPY pyproject.toml uv.lock .python-version README.md ./
#8 DONE 0.0s

#9 [5/8] RUN uv sync --frozen
...
#9 DONE 7.7s

#10 [6/8] COPY . .
#10 DONE 0.2s

#11 [7/8] RUN uv run python ./scripts/generate_exports.py
...
#11 DONE 0.9s

#12 [8/8] RUN uv pip install .
...
#12 DONE 4.8s

#13 exporting to image
...
#13 DONE 0.6s
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ: –ù–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [uv](https://docs.astral.sh/uv/getting-started/installation/)

–°–æ–±—Ä–∞—Ç—å –∫–æ–¥–≥–µ–Ω –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã (c –≤—ã—Ö–ª–æ–ø–æ–º –ø–æ–∫—Ä—ã—Ç–∏—è):
```bash
make test
```
–∏–ª–∏
```bash
uv run python scripts/generate_exports.py && uv run pytest --cov
```

–í—ã –¥–æ–ª–∂–Ω—ã –±—É–¥–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:
```
uv run python scripts/generate_exports.py
...
uv run pytest
============================= test session starts ==============================
platform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/leshless/swe_hw_1
configfile: pyproject.toml
plugins: cov-7.0.0, mock-3.15.1
collected 17 items

...

============================== 17 passed in 0.12s ==============================
```

## –°–æ–±–ª—é–¥–µ–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –∏–∑ –¢–ó

### –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID
- (S)ingle Responsibility - –õ–æ–≥–∏–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä AliveController –∏ InventoryController.
- (O)pen-Closed - –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö –∫–ª–∞—Å—Å–∞–º–∏ –Ω–µ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –ï—Å–ª–∏ –º—ã –∑–∞—Ö–æ—Ç–∏–º –∫–∞–∫-—Ç–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É, —Ç–æ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –∏–ª–∏ –º–µ—Ç–æ–¥ —É —Å—Ç–∞—Ä–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- (L)iskov Substitution - –î–ª—è –∫–ª–∞—Å—Å–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–∂–∏–≤–æ—Ç–Ω—ã–µ, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å) —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π) —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Å –ø—Ä–µ–¥–∫–∞–º–∏.
- (I)nterface Segregation - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—è–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã AliveController, HealthController)
- (D)ependency Inversion - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã) –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ü–µ–ø–æ—á–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –ø—Ä–∏ —ç—Ç–æ–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥–µ—Ç–∞–ª–µ–π: Service -> Facade -> Controller -> Repository.

### –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ DDD
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Å–ª–æ–∏:
- Domain - —Å–∞–º—ã–π –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- Logic - —É—Ä–æ–≤–µ–Ω—å –±–∏–∑–Ω–µ—Å—Å-–ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Repository - —É—Ä–æ–≤–µ–Ω—å —Ç–æ–Ω–∫–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –¥–∞–Ω–Ω—ã—Ö (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ: in-memory –∫—ç—à)
- CLI - —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏ —ç—Ç–æ–º, —Å–ª–æ–π Domain –Ω–µ –∑–∞–≤–∏—Å—è—Ç –Ω–µ –æ—Ç –∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö —Å–ª–æ–µ–≤, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –æ–Ω –≤—Å–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç Domain, —Ç–æ –µ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DDD-–ø–æ–¥—Ö–æ–¥ –∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∏–µ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Ä–µ–∞–ª–∏–∑—É–µ–º—ã–π –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ opyoid, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–∏–∫–ª–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–º –≤ –ø–∞–∫–µ—Ç–µ app.

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –∫–æ–¥–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 73%:
```
Name                                     Stmts   Miss  Cover
------------------------------------------------------------
src/swe_hw_1/app/app.py                     21      1    95%
src/swe_hw_1/cli/const.py                   40     13    68%
src/swe_hw_1/cli/dto.py                     67     33    51%
src/swe_hw_1/cli/facade.py                  39     13    67%
src/swe_hw_1/cli/service.py                 79     58    27%
src/swe_hw_1/domain/error/alive.py           9      3    67%
src/swe_hw_1/domain/error/inventory.py       6      2    67%
src/swe_hw_1/domain/model/alive.py          30      0   100%
src/swe_hw_1/domain/model/inventory.py      20      0   100%
src/swe_hw_1/logic/alive.py                 52      6    88%
src/swe_hw_1/logic/alive_dto.py             23      0   100%
src/swe_hw_1/logic/health.py                16      1    94%
src/swe_hw_1/logic/health_dto.py             8      0   100%
src/swe_hw_1/logic/inventory.py             34      4    88%
src/swe_hw_1/logic/inventory_dto.py         17      0   100%
src/swe_hw_1/repository/repository.py       45      4    91%
src/swe_hw_1/util/rng/rng.py                16      4    75%
------------------------------------------------------------
TOTAL                                      522    142    73%
```